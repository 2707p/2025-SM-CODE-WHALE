<!-- ì‹œê°„í‘œ ì„¹ì…˜ -->
<section id="timetable">
  <h2>ğŸ—“ï¸ ì‹œê°„í‘œ</h2>
  <ul>
    <li>ì›”ìš”ì¼: ìˆ˜í•™, ì˜ì–´, ì²´ìœ¡</li>
    <li>í™”ìš”ì¼: ê³¼í•™, ìŒì•…, ì—­ì‚¬</li>
    <li>ìˆ˜ìš”ì¼: êµ­ì–´, ë¯¸ìˆ , ì •ë³´</li>
  </ul>
</section>

<!-- í–‰ì‚¬ ê³µì§€ ì„¹ì…˜ -->
<section id="events">
  <h2>ğŸ“¢ í–‰ì‚¬ ê³µì§€</h2>
  <ul>
    <li>ì²´ìœ¡ëŒ€íšŒ - 2025-09-05</li>
    <li>ê³¼í•™ ì „ì‹œíšŒ - 2025-09-10</li>
  </ul>
</section>

<!-- ì…”í‹€ë²„ìŠ¤ ì •ë³´ ì„¹ì…˜ -->
<section id="shuttle-bus">
  <h2>ğŸšŒ ì…”í‹€ë²„ìŠ¤ ì •ë³´</h2>
  <ul>
    <li>ë…¸ì„  A - ìš´í–‰ì¤‘ (ë‹¤ìŒ ì¶œë°œ: 08:30)</li>
    <li>ë…¸ì„  B - ì§€ì—° (ë‹¤ìŒ ì¶œë°œ: 08:45)</li>
  </ul>
</section>
const express = require('express');
const cors = require('cors');
const { MongoClient } = require('mongodb');

const app = express();
const port = 5000;

app.use(cors());
app.use(express.json());

// MongoDB ì—°ê²°
const uri = "mongodb://localhost:27017";
const client = new MongoClient(uri);
let db;

client.connect().then(() => {
  db = client.db('school_portal');
  console.log('MongoDB ì—°ê²°ë¨');
});

// í–‰ì‚¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
app.get('/api/events', async (req, res) => {
  const events = await db.collection('events').find({}).toArray();
  res.json(events);
});

// ë§ˆìŒì˜¨ë„ ì €ì¥
app.post('/api/mood', async (req, res) => {
  const { eventId, studentId, mood, className } = req.body;
  await db.collection('moods').insertOne({ eventId, studentId, mood, className, createdAt: new Date() });
  res.json({ success: true });
});

app.listen(port, () => console.log(`Backend running on http://localhost:${port}`));
import React from 'react';
import CalendarComponent from './CalendarComponent';

function App() {
  return (
    <div style={{ maxWidth: '600px', margin: '0 auto', padding: '20px' }}>
      <h1>í•™êµ í¬í„¸ ìº˜ë¦°ë”</h1>
      <CalendarComponent />
    </div>
  );
}

export default App;
import React, { useState, useEffect } from 'react';
import Calendar from 'react-calendar';
import 'react-calendar/dist/Calendar.css';
import axios from 'axios';
import MoodButton from './MoodButton';

export default function CalendarComponent() {
  const [events, setEvents] = useState([]);
  const [selectedEvent, setSelectedEvent] = useState(null);

  useEffect(() => {
    axios.get('http://localhost:5000/api/events')
      .then(res => setEvents(res.data));
  }, []);

  const handleDateClick = (date) => {
    const dateStr = date.toISOString().slice(0,10);
    const event = events.find(e => e.date === dateStr);
    setSelectedEvent(event || null);
  };

  return (
    <div>
      <Calendar onClickDay={handleDateClick} />
      {selectedEvent && (
        <MoodButton event={selectedEvent} onClose={() => setSelectedEvent(null)} />
      )}
    </div>
  );
}
import React from 'react';
import axios from 'axios';

export default function MoodButton({ event, onClose }) {
  const moods = ["í–‰ë³µí•´ìš”", "ì§€ì³¤ì–´ìš”", "ê¸°ëŒ€ë¼ìš”", "ìŠ¬í¼ìš”"];

  const handleMood = (mood) => {
    axios.post('http://localhost:5000/api/mood', {
      eventId: event._id,
      studentId: "s001", // ì˜ˆì œìš©, ë¡œê·¸ì¸ êµ¬í˜„í•˜ë©´ ì‹¤ì œ ID ì‚¬ìš©
      className: "2í•™ë…„ 1ë°˜",
      mood
    }).then(() => {
      alert('ë§ˆìŒì˜¨ë„ ì €ì¥ ì™„ë£Œ!');
      onClose();
    });
  };

  return (
    <div style={{ marginTop: '20px', padding: '10px', border: '1px solid #ccc', borderRadius: '5px' }}>
      <h3>{event.title} - ë§ˆìŒì˜¨ë„ ì„ íƒ</h3>
      {moods.map(m => (
        <button key={m} style={{ margin: '5px' }} onClick={() => handleMood(m)}>{m}</button>
      ))}
      <button onClick={onClose} style={{ marginLeft: '10px' }}>ë‹«ê¸°</button>
    </div>
  );
}
